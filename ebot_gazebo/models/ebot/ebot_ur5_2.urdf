<?xml version="1.0" encoding="utf-8"?>

<robot name="ebot">
  <gazebo>

    <plugin filename="libgazebo_ros_diff_drive.so" name="skid_steer_drive_controller">
      <update_rate>40.0</update_rate>

      <num_wheel_pairs>2</num_wheel_pairs>

      <left_joint>FWLJ</left_joint>
      <right_joint>FWRJ</right_joint>

      <left_joint>RWLJ</left_joint>
      <right_joint>RWRJ</right_joint>

      <wheel_separation>0.4</wheel_separation>
      <wheel_separation>0.4</wheel_separation>

      <wheel_diameter>0.2</wheel_diameter>
      <wheel_diameter>0.2</wheel_diameter>

      <robot_base_frame>ebot_base</robot_base_frame>
      <max_wheel_torque>60</max_wheel_torque>
      <odometry_frame>odom</odometry_frame>
      <publish_odom>true</publish_odom>
      <robot_base_frame>ebot_base</robot_base_frame>

      <!-- <topicName>cmd_vel</topicName>
      <commandTopic>cmd_vel</commandTopic>
      <odometryTopic>odom</odometryTopic>
      <odometryFrame>odom</odometryFrame> -->

      <ros>
          <!-- Set namespace -->
          <namespace></namespace>

          <!-- Remap default topics -->
          <argument>cmd_vel:=cmd_vel</argument>
          <argument>odom:=odom</argument>
        </ros>
      <odometry_frame>odom</odometry_frame>
      <publish_wheel_tf>true</publish_wheel_tf>
      <publish_odom_tf>true</publish_odom_tf>
      
    </plugin>
    <!-- <plugin filename="libgazebo_ros_skid_steer_drive.so" name="skid_steer_drive_controller">
      <updateRate>40.0</updateRate>
      <leftFrontJoint>FWLJ</leftFrontJoint>
      <rightFrontJoint>FWRJ</rightFrontJoint>
      <leftRearJoint>RWLJ</leftRearJoint>
      <rightRearJoint>RWRJ</rightRearJoint>
      <wheelSeparation>0.4</wheelSeparation>
      <wheelDiameter>0.2</wheelDiameter>
      <robotBaseFrame>ebot_base</robotBaseFrame>
      <torque>60</torque>
      <topicName>cmd_vel</topicName>
      <commandTopic>cmd_vel</commandTopic>
      <odometryTopic>odom</odometryTopic>
      <odometryFrame>odom</odometryFrame>
      <broadcastTF>true</broadcastTF>
    </plugin> -->
  </gazebo>
  <gazebo reference="FWL">
    <material>Gazebo/Black</material>
  </gazebo>
  <gazebo reference="FWR">
    <material>Gazebo/Black</material>
  </gazebo>
  <gazebo reference="RWL">
    <material>Gazebo/Black</material>
  </gazebo>
  <gazebo reference="RWR">
    <material>Gazebo/Black</material>
  </gazebo>
  <gazebo reference="ebot_base">
    <material>Gazebo/Grey</material>
  </gazebo>
  <gazebo reference="laser">
    <material>Gazebo/Black</material>
  </gazebo>
  <gazebo reference="camera_link">
    <material>Gazebo/Black</material>
  </gazebo>

  <gazebo reference="laser">
    <sensor name="head_rplidar_sensor" type="ray">
      <pose>0 0 0 0 0 0</pose>
      <visualize>false</visualize>
      <update_rate>40</update_rate>
      <ray>
        <scan>
          <horizontal>
            <samples>720</samples>
            <resolution>1</resolution>
            <min_angle>-2.35619</min_angle>
            <max_angle>2.35619</max_angle>
          </horizontal>
        </scan>
        <range>
          <min>0.5</min>
          <max>20.0</max>
          <resolution>0.01</resolution>
        </range>
        <noise>
          <type>gaussian</type>
          <mean>0.0</mean>
          <stddev>0.01</stddev>
        </noise>
      </ray>
      <plugin filename="libgazebo_ros_ray_sensor.so" name="gazebo_ros_head_rplidar_controller">

        <ros>
          <namespace>ebot</namespace>
          <argument>~/out:=laser/scan</argument>
        </ros>
        <frame_name>laser</frame_name>
        <output_type>sensor_msgs/LaserScan</output_type>
      </plugin>
      <!-- <plugin filename="libgazebo_ros_laser.so" name="gazebo_ros_head_rplidar_controller">
        <topicName>/ebot/laser/scan</topicName>
        <frameName>laser</frameName>
      </plugin> -->
    </sensor>
  </gazebo>
  
  <gazebo reference="camera_link">
    <sensor name="intelrealsenseD435i" type="depth">
      <always_on>1</always_on>
      <visualize>true</visualize>
      <camera>
        <horizontal_fov>1.047</horizontal_fov>
        <image>
          <width>640</width>
          <height>480</height>
          <format>R8G8B8</format>
        </image>
        <depth_camera>

        </depth_camera>
        <clip>
          <near>0.1</near>
          <far>100</far>
        </clip>
      </camera>

      <plugin filename="libgazebo_ros_camera.so" name="intelrealsense">
        <always_on>true</always_on>
        <update_rate>10.0</update_rate>
        <camera_name>camera</camera_name>
        <frame_name>camera_depth_frame</frame_name>

        <ros>
              <namespace></namespace>
              <argument>image_raw:=/camera/color/image_raw</argument>
              <argument>custom_cam/image_depth:=/camera/depth/image_rect_raw</argument>
              <argument>custom_cam/camera_info_depth:=/camera/depth/camera_info</argument>
              <argument>custom_cam/cam_name/camera_info_:=/camera/color/camera_info</argument>
              <argument>custom_cam/points:=depth/points</argument>
        </ros>
        <min_depth>0.2</min_depth>
        <max_depth>10.0</max_depth>
        <hack_baseline>0.07</hack_baseline>
      </plugin>

      <!-- <plugin filename="libgazebo_ros_openni_kinect.so" name="intelrealsense">
        <alwaysOn>true</alwaysOn>
        <updateRate>10.0</updateRate>
        <cameraName>camera</cameraName>
        <frameName>camera_depth_frame</frameName>
        <imageTopicName>/camera/color/image_raw</imageTopicName>
        <depthImageTopicName>/camera/depth/image_rect_raw</depthImageTopicName>
        <pointCloudTopicName>depth/points</pointCloudTopicName>
        <cameraInfoTopicName>/camera/color/camera_info</cameraInfoTopicName>
        <depthImageCameraInfoTopicName>/camera/depth/camera_info</depthImageCameraInfoTopicName>
        <pointCloudCutoff>0.2</pointCloudCutoff>
        <pointCloudCutoffMax>10.0</pointCloudCutoffMax>
        <hackBaseline>0.07</hackBaseline>
        <distortionK1>0.0</distortionK1>
        <distortionK2>0.0</distortionK2>
        <distortionK3>0.0</distortionK3>
        <distortionT1>0.0</distortionT1>
        <distortionT2>0.0</distortionT2>
        <CxPrime>0.0</CxPrime>
        <Cx>0.0</Cx>
        <Cy>0.0</Cy>
        <focalLength>0.0</focalLength>
      </plugin> -->
    </sensor>
  </gazebo>

  <gazebo reference="imu_link">
    <gravity>true</gravity>
    <sensor name="imu_sensor" type="imu">
      <always_on>true</always_on>
      <update_rate>100</update_rate>
      <visualize>true</visualize>
      <topic>__default_topic__</topic>

      <plugin filename="libgazebo_ros_imu_sensor.so" name="imu_plugin">

        <ros>
          <!-- Will publish to /imu/data -->
          <namespace></namespace>
          <argument>~/out:=imu</argument>
        </ros>   

        <frame_name>imu_link</frame_name>
        <initial_orientation_as_reference>false</initial_orientation_as_reference>
      </plugin>
      <!-- <plugin filename="libgazebo_ros_imu_sensor.so" name="imu_plugin">
        <topicName>imu</topicName>
        <bodyName>imu_link</bodyName>
        <updateRateHZ>10.0</updateRateHZ>
        <gaussianNoise>0.0</gaussianNoise>
        <xyzOffset>0 0 0</xyzOffset>
        <rpyOffset>0 0 0</rpyOffset>
        <frameName>imu_link</frameName>
        <initialOrientationAsReference>false</initialOrientationAsReference>
      </plugin> -->
      <pose>0 0 0 0 0 0</pose>
    </sensor>
  </gazebo>

  <link name="ebot_base">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0.0 0.12"/>
      <mass value="28"/>
 
      <inertia ixx="0.356" ixy="0" ixz="0" iyy="0.9443" iyz="0" izz="1.008"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://ebot/meshes/chassis.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.79216 0.81961 0.93333 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0.0 0.12"/>
      <geometry>
        <box size="0.585 0.30 0.25"/>
      </geometry>
    </collision>
  </link>

  <link name="FWR">
    <inertial>
      <origin rpy="0 0 0" xyz="6.6592E-05 0.025016 -1.3483E-06"/>
      <mass value="0.7"/>

      <inertia ixx="0.003" ixy="0" ixz="0" iyy="0.0030" iyz="0" izz="0.0035"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://ebot/meshes/FWR.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.79216 0.81961 0.93333 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="1.57 1.57 0" xyz="0 0.025 0"/>
      <geometry>
        <cylinder length="0.05" radius="0.1"/>
      </geometry>
    </collision>
  </link>
  <joint name="FWRJ" type="continuous">
    <origin rpy="-3.14159265358979 0.911096362238563 0.00679706827343889" xyz="0.202539503068943 -0.189027702306049 0.0449999999999943"/>
    <parent link="ebot_base"/>
    <child link="FWR"/>
    <axis xyz="0 -1 0"/>
  </joint>

  <link name="FWL">
    <inertial>
      <origin rpy="0 0 0" xyz="6.6594E-05 0.025016 -1.349E-06"/>
      <mass value="0.7"/>
 
      <inertia ixx="0.003" ixy="0" ixz="0" iyy="0.0030" iyz="0" izz="0.0035"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://ebot/meshes/FWL.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.79216 0.81961 0.93333 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="1.57 1.57 0" xyz="0 0.025 0"/>
      <geometry>
        <cylinder length="0.05" radius="0.1"/>
      </geometry>
    </collision>
  </link>
  <joint name="FWLJ" type="continuous">
    <origin rpy="0 0 0.00679706827344463" xyz="0.199948480594093 0.192163491981716 0.0450000000000047"/>
    <parent link="ebot_base"/>
    <child link="FWL"/>
    <axis xyz="0 1 0"/>
  </joint>
 
  <link name="RWR">
    <inertial>
      <origin rpy="0 0 0" xyz="6.6592E-05 0.025016 -1.3483E-06"/>
      <mass value="0.7"/>
  
      <inertia ixx="0.003" ixy="0" ixz="0" iyy="0.0030" iyz="0" izz="0.0035"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://ebot/meshes/RWR.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.79216 0.81961 0.93333 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="1.57 1.57 0" xyz="0 0.025 0"/>
      <geometry>
        <cylinder length="0.05" radius="0.1"/>
      </geometry>
    </collision>
  </link>
  <joint name="RWRJ" type="continuous">
    <origin rpy="-3.14159265358979 0.544912084409921 0.00679706827344312" xyz="-0.197451256939211 -0.191746508680447 0.044999999999993"/>
    <parent link="ebot_base"/>
    <child link="RWR"/>
    <axis xyz="0 -1 0"/>
  </joint>

  <link name="RWL">
    <inertial>
      <origin rpy="0 0 0" xyz="6.6594E-05 0.025016 -1.349E-06"/>
      <mass value="0.7"/>

      <inertia ixx="0.003" ixy="0" ixz="0" iyy="0.0030" iyz="0" izz="0.0035"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://ebot/meshes/RWL.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.79216 0.81961 0.93333 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="1.57 1.57 0" xyz="0 0.025 0"/>
      <geometry>
        <cylinder length="0.05" radius="0.1"/>
      </geometry>
    </collision>
  </link>
  <joint name="RWLJ" type="continuous">
    <origin rpy="0 0 0.00679706827344463" xyz="-0.200042279414009 0.189444685607321 0.0449999999999969"/>
    <parent link="ebot_base"/>
    <child link="RWL"/>
    <axis xyz="0 1 0"/>
  </joint>

  <joint name="realsensejoint" type="fixed">
    <axis xyz="0 0 0"/>
    <origin rpy="0 0 0" xyz="0.277944460576403 0.00208437301780086 0.0230507258091751"/>
    <parent link="ebot_base"/>
    <child link="camera_link"/>
  </joint>
  <link name="camera_link">
    <collision>
      <origin rpy="0 0 0" xyz="0.02 0 0"/>
      <geometry>
        0
        
        <box size="0.001 0.001 0.001"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="1.5707 0 1.5707" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://ebot/meshes/NAVRS.STL"/>
      </geometry>
    </visual>
    <inertial>
      <mass value="1e-5"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
  </link>
  <joint name="camera_optical_joint" type="fixed">
    <origin rpy="-1.57079632679 0 -1.57079632679" xyz="0 0 0"/>
    <parent link="camera_link"/>
    <child link="camera_rgb_frame"/>
  </joint>
  <link name="camera_rgb_frame">
  </link>
  <joint name="camera_depth_joint" type="fixed">
    <origin rpy="-1.57079632679 0 -1.57079632679" xyz="0 0 0"/>
    <parent link="camera_link"/>
    <child link="camera_depth_frame"/>
  </joint>
  <link name="camera_depth_frame">
  </link>
  
  <link name="laser">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <inertial>
      <mass value="0.09"/>
      <inertia ixx="4.275e-05" ixy="0" ixz="0" iyy="4.275e-05" iyz="0" izz="5.5125e-05"/>
    </inertial>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.040" radius="0.030"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.040" radius="0.030"/>
      </geometry>
    </visual>
  </link>
  <joint name="rplidar_joint" type="fixed">
    <axis xyz="0 1 0"/>
    <origin rpy="0 0 0.00679706827344463" xyz="0.255540836099039 0 0.18"/>
    <parent link="ebot_base"/>
    <child link="laser"/>
    <limit effort="1000" lower="0" upper="6.28" velocity="100"/>
    <axis rpy="0 0 0" xyz="0.02 0 0.178"/>
    <joint_properties damping="5.0" friction="1.0"/>
  </joint>
  
  <link name="FUS1">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.00265918092876655 2.08166817117217E-17 0.0100193625139959"/>
      <mass value="0.0152532066391543"/>
      <inertia ixx="4.77814992940302E-06" ixy="-2.01819824421892E-21" ixz="2.64657807499124E-08" iyy="1.003384637723E-06" iyz="-8.80528876343328E-21" izz="4.55679776636487E-06"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://ebot/meshes/FUS1.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.250980392156863 0.250980392156863 0.250980392156863 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>

        <box size="0.019 0.057 0.028"/>
      </geometry>
    </collision>
  </link>
  <joint name="FUS1J" type="fixed">
    <origin rpy="-1.5707963267949 0 0.00679706827344463" xyz="0.297825909825268 -0.157279305693451 0.0977263808983278"/>
    <parent link="ebot_base"/>
    <child link="FUS1"/>
    <axis xyz="0 0 0"/>
  </joint>

  <link name="FUS2">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.0026592 1.9949E-17 0.010019"/>
      <mass value="0.015253"/>
      <inertia ixx="4.7781E-06" ixy="-2.0925E-21" ixz="2.6466E-08" iyy="1.0034E-06" iyz="-9.4695E-21" izz="4.5568E-06"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://ebot/meshes/FUS2.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.25098 0.25098 0.25098 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>

        <box size="0.019 0.057 0.028"/>
      </geometry>
    </collision>
  </link>
  <joint name="FUS2J" type="fixed">
    <origin rpy="-1.5707963267949 0 0.00679706827344463" xyz="0.295786805044471 0.142713764312663 0.0977263808983286"/>
    <parent link="ebot_base"/>
    <child link="FUS2"/>
    <axis xyz="0 0 0"/>
  </joint>

  <link name="FUS3">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.0026592 5.5511E-17 0.010019"/>
      <mass value="0.015253"/>
      <inertia ixx="4.7781E-06" ixy="2.7832E-20" ixz="2.6466E-08" iyy="1.0034E-06" iyz="1.4502E-20" izz="4.5568E-06"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://ebot/meshes/FUS3.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.25098 0.25098 0.25098 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>

        <box size="0.019 0.057 0.028"/>
      </geometry>
    </collision>
  </link>
  <joint name="FUS3J" type="fixed">
    <origin rpy="0 0.785398163397449 0.00679706827344116" xyz="0.27274874909921 -0.0749478536996718 0.0424745013517897"/>
    <parent link="ebot_base"/>
    <child link="FUS3"/>
    <axis xyz="0 0 0"/>
  </joint>

  <link name="FUS4">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.00265918092876644 6.93889390390723E-17 0.0100193625139959"/>
      <mass value="0.0152532066391543"/>
      <inertia ixx="4.77814992940302E-06" ixy="2.8163959262392E-20" ixz="2.64657807499109E-08" iyy="1.003384637723E-06" iyz="2.09456577324828E-20" izz="4.55679776636487E-06"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://ebot/meshes/FUS4.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.250980392156863 0.250980392156863 0.250980392156863 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
     
        <box size="0.019 0.057 0.028"/>
      </geometry>
    </collision>
  </link>
  <joint name="FUS4J" type="fixed">
    <origin rpy="0 0.785398163397449 0.00679706827344116" xyz="0.271702008645067 0.0790485889034664 0.0424745013517894"/>
    <parent link="ebot_base"/>
    <child link="FUS4"/>
    <axis xyz="0 0 0"/>
  </joint>

  <link name="RUS5">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.0026592 2.6021E-17 0.010019"/>
      <mass value="0.015253"/>
      <inertia ixx="4.7781E-06" ixy="-1.9723E-21" ixz="2.6466E-08" iyy="1.0034E-06" iyz="-7.7105E-21" izz="4.5568E-06"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://ebot/meshes/RUS5.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.25098 0.25098 0.25098 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
 
        <box size="0.019 0.057 0.028"/>
      </geometry>
    </collision>
  </link>
  <joint name="RUS5J" type="fixed">
    <origin rpy="-1.5707963267949 0 -3.13479558531634" xyz="-0.29532868617037 0.157696288994793 0.0977029437251515"/>
    <parent link="ebot_base"/>
    <child link="RUS5"/>
    <axis xyz="0 0 0"/>
  </joint>

  <link name="RUS6">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.00265918092876644 2.34187669256869E-17 0.0100193625139959"/>
      <mass value="0.0152532066391543"/>
      <inertia ixx="4.77814992940302E-06" ixy="-1.34867897211379E-21" ixz="2.64657807499114E-08" iyy="1.003384637723E-06" iyz="-1.29818552470248E-20" izz="4.55679776636487E-06"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://ebot/meshes/RUS6.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.250980392156863 0.250980392156863 0.250980392156863 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
  
        <box size="0.019 0.057 0.028"/>
      </geometry>
    </collision>
  </link>
  <joint name="RUS6J" type="fixed">
    <origin rpy="-1.5707963267949 0 -3.13479558531634" xyz="-0.293289581389573 -0.14229678101132 0.0977029437251508"/>
    <parent link="ebot_base"/>
    <child link="RUS6"/>
    <axis xyz="0 0 0"/>
  </joint>

  <link name="RHUS7">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.00265918092876641 1.23570598198341E-12 0.0100193625139959"/>
      <mass value="0.0152532066391543"/>
      <inertia ixx="4.77814992940302E-06" ixy="3.27217392921119E-18" ixz="2.64657807499107E-08" iyy="1.003384637723E-06" iyz="4.38229124201629E-16" izz="4.55679776636487E-06"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://ebot/meshes/RHUS7.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.250980392156863 0.250980392156863 0.250980392156863 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
    
        <box size="0.019 0.057 0.028"/>
      </geometry>
    </collision>
  </link>
  <joint name="RHUS7J" type="fixed">
    <origin rpy="0 0 -1.56399925852145" xyz="-0.17860231149778 -0.148017381955971 0.189449821416576"/>
    <parent link="ebot_base"/>
    <child link="RHUS7"/>
    <axis xyz="0 0 0"/>
  </joint>
 
  <link name="RHUS9">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.0026592 6.9389E-18 0.010019"/>
      <mass value="0.015253"/>
      <inertia ixx="4.7781E-06" ixy="1.6008E-20" ixz="2.6466E-08" iyy="1.0034E-06" iyz="-1.185E-20" izz="4.5568E-06"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://ebot/meshes/RHUS9.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.25098 0.25098 0.25098 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>

        <box size="0.019 0.057 0.028"/>
      </geometry>
    </collision>
  </link>
  <joint name="RHUS9J" type="fixed">
    <origin rpy="-0.00186883076605492 0.123098458475999 -0.786255211903501" xyz="0.141804076845343 -0.0977216096162414 0.196076309026378"/>
    <parent link="ebot_base"/>
    <child link="RHUS9"/>
    <axis xyz="0 0 0"/>
  </joint>

  <link name="LHUS9">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.00265918092876642 -1.2353174039248E-12 0.0100193625139958"/>
      <mass value="0.0152532066391543"/>
      <inertia ixx="4.77814992940302E-06" ixy="-3.2538981368926E-18" ixz="2.64657807499116E-08" iyy="1.003384637723E-06" iyz="-4.38135627183199E-16" izz="4.55679776636487E-06"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://ebot/meshes/LHUS9.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.250980392156863 0.250980392156863 0.250980392156863 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>

        <box size="0.019 0.057 0.028"/>
      </geometry>
    </collision>
  </link>
  <joint name="LHUS9J" type="fixed">
    <origin rpy="0 0 1.57759339506834" xyz="-0.180600634182961 0.14597582665002 0.189449821416576"/>
    <parent link="ebot_base"/>
    <child link="LHUS9"/>
    <axis xyz="0 0 0"/>
  </joint>

  <link name="LHUS10">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.0026592 -2.0817E-17 0.010019"/>
      <mass value="0.015253"/>
      <inertia ixx="4.7781E-06" ixy="1.1539E-20" ixz="2.6466E-08" iyy="1.0034E-06" iyz="-1.2651E-20" izz="4.5568E-06"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://ebot/meshes/LHUS10.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.25098 0.25098 0.25098 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
  
        <box size="0.019 0.057 0.028"/>
      </geometry>
    </collision>
  </link>
  <joint name="LHUS10J" type="fixed">
    <origin rpy="0.00186883076604301 0.123098458475999 0.799849348450393" xyz="0.14045985551618 0.10004021562239 0.196076309026377"/>
    <parent link="ebot_base"/>
    <child link="LHUS10"/>
    <axis xyz="0 0 0"/>
  </joint>

  <link name="imu_link">
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.02 0.015 0.008"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.02 0.015 0.008"/>
      </geometry>
    </visual>
    <inertial>
      <mass value="1e-5"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
  </link>
  <joint name="imujoint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0.2"/>
    <parent link="ebot_base"/>
    <child link="imu_link"/>
    <axis xyz="0 0 0"/>
  </joint>

  <gazebo>
    <plugin filename="libgazebo_ros2_control.so" name="ros_control">
    </plugin>

  </gazebo>

  <link name="base_link">
    <visual>
      <geometry>
        <mesh filename="package://ur_description/meshes/ur5/visual/base.dae"/>
      </geometry>
      <material name="LightGrey">
        <color rgba="0.7 0.7 0.7 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
       
        <cylinder length="0.024" radius="0.0735"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="4.0"/>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.00443333156" ixy="0.0" ixz="0.0" iyy="0.00443333156" iyz="0.0" izz="0.0072"/>
    </inertial>
  </link>
  <joint name="shoulder_pan_joint" type="revolute">
    <parent link="base_link"/>
    <child link="shoulder_link"/>
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.089159"/>
    <axis xyz="0 0 1"/>
    <limit effort="150.0" lower="-6.28318530718" upper="6.28318530718" velocity="3.15"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="shoulder_link">
    <visual>
      <geometry>
        <mesh filename="package://ur_description/meshes/ur5/visual/shoulder.dae"/>
      </geometry>
      <material name="LightGrey">
        <color rgba="0.7 0.7 0.7 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
     
        <cylinder length="0.134" radius="0.0595"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="3.7"/>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.010267495893" ixy="0.0" ixz="0.0" iyy="0.010267495893" iyz="0.0" izz="0.00666"/>
    </inertial>
  </link>
  <joint name="shoulder_lift_joint" type="revolute">
    <parent link="shoulder_link"/>
    <child link="upper_arm_link"/>
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.13585 0.0"/>
    <axis xyz="0 1 0"/>
    <limit effort="150.0" lower="-6.28318530718" upper="6.28318530718" velocity="3.15"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="upper_arm_link">
    <visual>
      <geometry>
        <mesh filename="package://ur_description/meshes/ur5/visual/upperarm.dae"/>
      </geometry>
      <material name="LightGrey">
        <color rgba="0.7 0.7 0.7 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.22"/>
      <geometry>
     
        <cylinder length="0.545" radius="0.0450"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="8.393"/>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.28"/>
      <inertia ixx="0.22689067591" ixy="0.0" ixz="0.0" iyy="0.22689067591" iyz="0.0" izz="0.0151074"/>
    </inertial>
  </link>
  <joint name="elbow_joint" type="revolute">
    <parent link="upper_arm_link"/>
    <child link="forearm_link"/>
    <origin rpy="0.0 2.09439510239 0.0" xyz="0.0 -0.1197 0.425"/>
    <axis xyz="0 1 0"/>
    <limit effort="150.0" lower="-3.14159265359" upper="3.14159265359" velocity="3.15"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="forearm_link">
    <visual>
      <geometry>
        <mesh filename="package://ur_description/meshes/ur5/visual/forearm.dae"/>
      </geometry>
      <material name="LightGrey">
        <color rgba="0.7 0.7 0.7 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.18"/>
      <geometry>
 
        <cylinder length="0.489" radius="0.0380"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="2.275"/>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.196125"/>
      <inertia ixx="0.0312167910289" ixy="0.0" ixz="0.0" iyy="0.0312167910289" iyz="0.0" izz="0.004095"/>
    </inertial>
  </link>
  <joint name="wrist_1_joint" type="revolute">
    <parent link="forearm_link"/>
    <child link="wrist_1_link"/>
    <origin rpy="0.0 1.57079632679 0.0" xyz="0.0 0.0 0.39225"/>
    <axis xyz="0 1 0"/>
    <limit effort="28.0" lower="-6.28318530718" upper="6.28318530718" velocity="3.2"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="wrist_1_link">
    <visual>
      <geometry>
        <mesh filename="package://ur_description/meshes/ur5/visual/wrist1.dae"/>
      </geometry>
      <material name="LightGrey">
        <color rgba="0.7 0.7 0.7 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.0 0.093 0.008"/>
      <geometry>
  
        <cylinder length="0.100" radius="0.0320"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="1.219"/>
      <origin rpy="0 0 0" xyz="0.0 0.093 0.0"/>
      <inertia ixx="0.00255989897604" ixy="0.0" ixz="0.0" iyy="0.00255989897604" iyz="0.0" izz="0.0021942"/>
    </inertial>
  </link>
  <joint name="wrist_2_joint" type="revolute">
    <parent link="wrist_1_link"/>
    <child link="wrist_2_link"/>
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.093 0.0"/>
    <axis xyz="0 0 1"/>
    <limit effort="28.0" lower="-6.28318530718" upper="6.28318530718" velocity="3.2"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="wrist_2_link">
    <visual>
      <geometry>
        <mesh filename="package://ur_description/meshes/ur5/visual/wrist2.dae"/>
      </geometry>
      <material name="LightGrey">
        <color rgba="0.7 0.7 0.7 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="1.57 0 0" xyz="0.0 0.0 0.09465"/>
      <geometry>

        <cylinder length="0.105" radius="0.0320"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="1.219"/>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.09465"/>
      <inertia ixx="0.00255989897604" ixy="0.0" ixz="0.0" iyy="0.00255989897604" iyz="0.0" izz="0.0021942"/>
    </inertial>
  </link>
  <joint name="wrist_3_joint" type="revolute">
    <parent link="wrist_2_link"/>
    <child link="wrist_3_link"/>
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.09465"/>
    <axis xyz="0 1 0"/>
    <limit effort="28.0" lower="-6.28318530718" upper="6.28318530718" velocity="3.2"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="wrist_3_link">
    <visual>
      <geometry>
        <mesh filename="package://ur_description/meshes/ur5/visual/wrist3.dae"/>
      </geometry>
      <material name="LightGrey">
        <color rgba="0.7 0.7 0.7 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="1.57 0.0 0" xyz="0.0 0.067 0.0"/>
      <geometry>
 
        <cylinder length="0.0245" radius="0.0320"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.1879"/>
      <origin rpy="1.57079632679 0 0" xyz="0.0 0.06505 0.0"/>
      <inertia ixx="8.46958911216e-05" ixy="0.0" ixz="0.0" iyy="8.46958911216e-05" iyz="0.0" izz="0.0001321171875"/>
    </inertial>
  </link>
  <joint name="ee_fixed_joint" type="fixed">
    <parent link="wrist_3_link"/>
    <child link="ee_link"/>
    <origin rpy="0.0 0.0 1.57079632679" xyz="0.0 0.0823 0.0"/>
  </joint>
  <link name="ee_link">
    <collision>
      <geometry>
        <box size="0.01 0.01 0.01"/>
      </geometry>
      <origin rpy="0 0 0" xyz="-0.01 0 0"/>
    </collision>
  </link>
  <transmission name="shoulder_pan_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="shoulder_pan_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="shoulder_pan_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="shoulder_lift_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="shoulder_lift_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="shoulder_lift_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="elbow_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="elbow_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="elbow_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="wrist_1_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="wrist_1_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="wrist_1_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="wrist_2_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="wrist_2_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="wrist_2_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="wrist_3_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="wrist_3_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="wrist_3_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <gazebo reference="shoulder_link">
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="upper_arm_link">
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="forearm_link">
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="wrist_1_link">
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="wrist_3_link">
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="wrist_2_link">
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="ee_link">
    <selfCollide>true</selfCollide>
  </gazebo>

  <link name="base"/>
  <joint name="base_link-base_fixed_joint" type="fixed">

    <origin rpy="0 0 -3.14159265359" xyz="0 0 0"/>
    <parent link="base_link"/>
    <child link="base"/>
  </joint>

  <link name="tool0"/>
  <joint name="wrist_3_link-tool0_fixed_joint" type="fixed">
    <origin rpy="-1.57079632679 0 0" xyz="0 0.0823 0"/>
    <parent link="wrist_3_link"/>
    <child link="tool0"/>
  </joint>
  <joint name="ebot_joint" type="fixed">
    <parent link="ebot_base"/>
    <child link="base_link"/>
    <origin rpy="0.0 0.0 0" xyz="0 0 0.521"/>

  </joint>
  <joint name="gripper_base_joint" type="fixed">
    <parent link="wrist_3_link"/>
    <child link="gripper_base_link"/>
    <origin rpy="0 0 1.57079632679" xyz="0 0.1 0"/>
  </joint>
  <link name="gripper_base_link">
    <visual>
      <geometry>
        <mesh filename="package://robotiq_85_description/meshes/visual/robotiq_85_base_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 1.57 0" xyz="0.017 0 0"/>
      <geometry>
       
        <cylinder length="0.030" radius="0.0375"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.636951"/>
      <origin xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.000380" ixy="0.000000" ixz="0.000000" iyx="0.000000" iyy="0.001110" iyz="0.000000" izx="0.000000" izy="0.000000" izz="0.001171"/>
    </inertial>
  </link>
  <gazebo reference="gripper_base_link">
    <implicitSpringDamper>1</implicitSpringDamper>
    <mu1>100000</mu1>
    <mu2>100000</mu2>
    <kp>100000000.0</kp>
    <kd>1.0</kd>
  </gazebo>
  <joint name="gripper_finger1_joint" type="revolute">
    <parent link="gripper_base_link"/>
    <child link="gripper_finger1_knuckle_link"/>
    <axis xyz="0 0 1"/>
    <origin rpy="3.14159265359 0.0 0.0" xyz="0.05490451627 0.03060114443 0.0"/>
    <limit effort="1000" lower="0.0" upper="0.804" velocity="2.0"/>
  </joint>
  <joint name="gripper_finger2_joint" type="revolute">
    <parent link="gripper_base_link"/>
    <child link="gripper_finger2_knuckle_link"/>
    <axis xyz="0 0 1"/>
    <origin rpy="0.0 0.0 0.0" xyz="0.05490451627 -0.03060114443 0.0"/>
    <limit effort="1000" lower="-3.14" upper="3.14" velocity="100.0"/>
    <mimic joint="gripper_finger1_joint"/>
  </joint>
  <link name="gripper_finger1_knuckle_link">
    <visual>
      <geometry>
        <mesh filename="package://robotiq_85_description/meshes/visual/robotiq_85_knuckle_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 -0.0873" xyz="0 -0.01 0"/>
      <geometry>

        <box size="0.012 0.035 0.014"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.018491"/>
      <origin xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.000009" ixy="-0.000001" ixz="0.000000" iyx="-0.000001" iyy="0.000001" iyz="0.000000" izx="0.000000" izy="0.000000" izz="0.000010"/>
    </inertial>
  </link>
  <gazebo reference="gripper_finger1_knuckle_link">
    <implicitSpringDamper>1</implicitSpringDamper>
    <mu1>100000</mu1>
    <mu2>100000</mu2>
    <kp>100000000.0</kp>
    <kd>1.0</kd>
  </gazebo>
  <link name="gripper_finger2_knuckle_link">
    <visual>
      <geometry>
        <mesh filename="package://robotiq_85_description/meshes/visual/robotiq_85_knuckle_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 -0.0873" xyz="0 -0.01 0"/>
      <geometry>
 
        <box size="0.012 0.035 0.014"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.018491"/>
      <origin xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.000009" ixy="-0.000001" ixz="0.000000" iyx="-0.000001" iyy="0.000001" iyz="0.000000" izx="0.000000" izy="0.000000" izz="0.000010"/>
    </inertial>
  </link>
  <gazebo reference="gripper_finger2_knuckle_link">
    <implicitSpringDamper>1</implicitSpringDamper>
    <mu1>100000</mu1>
    <mu2>100000</mu2>
    <kp>100000000.0</kp>
    <kd>1.0</kd>
  </gazebo>
  <joint name="gripper_finger1_finger_joint" type="fixed">
    <parent link="gripper_finger1_knuckle_link"/>
    <child link="gripper_finger1_finger_link"/>
    <origin rpy="0 0 0" xyz="-0.00408552455 -0.03148604435 0.0"/>
  </joint>
  <joint name="gripper_finger2_finger_joint" type="fixed">
    <parent link="gripper_finger2_knuckle_link"/>
    <child link="gripper_finger2_finger_link"/>
    <origin rpy="0 0 0" xyz="-0.00408552455 -0.03148604435 0.0"/>
  </joint>
  <link name="gripper_finger1_finger_link">
    <visual>
      <geometry>
        <mesh filename="package://robotiq_85_description/meshes/visual/robotiq_85_finger_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 -0.175" xyz="0.025 -0.002 0"/>
      <geometry>

        <box size="0.0591 0.010 0.020"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.027309"/>
      <origin xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.000003" ixy="-0.000002" ixz="0.000000" iyx="-0.000002" iyy="0.000021" iyz="0.000000" izx="0.000000" izy="0.000000" izz="0.000020"/>
    </inertial>
  </link>
  <gazebo reference="gripper_finger1_finger_link">
    <implicitSpringDamper>1</implicitSpringDamper>
    <mu1>100000</mu1>
    <mu2>100000</mu2>
    <kp>100000000.0</kp>
    <kd>1.0</kd>
  </gazebo>
  <link name="gripper_finger2_finger_link">
    <visual>
      <geometry>
        <mesh filename="package://robotiq_85_description/meshes/visual/robotiq_85_finger_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 -0.175" xyz="0.025 -0.002 0"/>
      <geometry>

        <box size="0.0591 0.010 0.020"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.027309"/>
      <origin xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.000003" ixy="-0.000002" ixz="0.000000" iyx="-0.000002" iyy="0.000021" iyz="0.000000" izx="0.000000" izy="0.000000" izz="0.000020"/>
    </inertial>
  </link>
  <gazebo reference="gripper_finger2_finger_link">
    <implicitSpringDamper>1</implicitSpringDamper>
    <mu1>100000</mu1>
    <mu2>100000</mu2>
    <kp>100000000.0</kp>
    <kd>1.0</kd>
  </gazebo>
  <joint name="gripper_finger1_inner_knuckle_joint" type="continuous">
    <parent link="gripper_base_link"/>
    <child link="gripper_finger1_inner_knuckle_link"/>
    <axis xyz="0 0 1"/>
    <origin rpy="3.14159265359 0.0 0.0" xyz="0.06142 0.0127 0"/>
    <limit effort="0.1" lower="-3.14" upper="3.14" velocity="100.0"/>
    <mimic joint="gripper_finger1_joint" offset="0"/>
  </joint>
  <joint name="gripper_finger2_inner_knuckle_joint" type="continuous">
    <parent link="gripper_base_link"/>
    <child link="gripper_finger2_inner_knuckle_link"/>
    <axis xyz="0 0 1"/>
    <origin rpy="0 0 0" xyz="0.06142 -0.0127 0"/>
    <limit effort="0.1" lower="-3.14" upper="3.14" velocity="100.0"/>
    <mimic joint="gripper_finger1_joint" offset="0"/>
  </joint>
  <link name="gripper_finger1_inner_knuckle_link">
    <visual>
      <geometry>
        <mesh filename="package://robotiq_85_description/meshes/visual/robotiq_85_inner_knuckle_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 -0.698" xyz="0.025 -0.02 0"/>
      <geometry>
  
        <box size="0.055 0.006 0.020"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.029951"/>
      <origin xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.000039" ixy="0.000000" ixz="0.000000" iyx="0.000000" iyy="0.000005" iyz="0.000000" izx="0.000000" izy="0.000000" izz="0.000035"/>
    </inertial>
  </link>
  <gazebo reference="gripper_finger1_inner_knuckle_link">
    <implicitSpringDamper>1</implicitSpringDamper>
    <mu1>100000</mu1>
    <mu2>100000</mu2>
    <kp>100000000.0</kp>
    <kd>1.0</kd>
  </gazebo>
  <link name="gripper_finger2_inner_knuckle_link">
    <visual>
      <geometry>
        <mesh filename="package://robotiq_85_description/meshes/visual/robotiq_85_inner_knuckle_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 -0.698" xyz="0.025 -0.02 0"/>
      <geometry>
      
        <box size="0.055 0.006 0.020"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.029951"/>
      <origin xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.000039" ixy="0.000000" ixz="0.000000" iyx="0.000000" iyy="0.000005" iyz="0.000000" izx="0.000000" izy="0.000000" izz="0.000035"/>
    </inertial>
  </link>
  <gazebo reference="gripper_finger2_inner_knuckle_link">
    <implicitSpringDamper>1</implicitSpringDamper>
    <mu1>100000</mu1>
    <mu2>100000</mu2>
    <kp>100000000.0</kp>
    <kd>1.0</kd>
  </gazebo>
  <joint name="gripper_finger1_finger_tip_joint" type="continuous">
    <parent link="gripper_finger1_inner_knuckle_link"/>
    <child link="gripper_finger1_finger_tip_link"/>
    <axis xyz="0 0 1"/>
    <origin rpy="0.0 0.0 0.0" xyz="0.04303959807 -0.03759940821 0.0"/>
    <limit effort="0.1" lower="-3.14" upper="3.14" velocity="100.0"/>
    <mimic joint="gripper_finger1_joint" multiplier="-1"/>
  </joint>
  <joint name="gripper_finger2_finger_tip_joint" type="continuous">
    <parent link="gripper_finger2_inner_knuckle_link"/>
    <child link="gripper_finger2_finger_tip_link"/>
    <axis xyz="0 0 1"/>
    <origin rpy="0.0 0.0 0.0" xyz="0.04303959807 -0.03759940821  0.0"/>
    <limit effort="0.1" lower="-3.14" upper="3.14" velocity="100.0"/>
    <mimic joint="gripper_finger1_joint" multiplier="-1"/>
  </joint>
  <link name="gripper_finger1_finger_tip_link">
    <visual>
      <geometry>
        <mesh filename="package://robotiq_85_description/meshes/visual/robotiq_85_finger_tip_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.02 0 0"/>
      <geometry>
     
        <box size="0.045 0.01 0.02"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.019555"/>
      <origin xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.000002" ixy="0.000000" ixz="0.000000" iyx="0.000000" iyy="0.000005" iyz="0.000000" izx="0.000000" izy="0.000000" izz="0.000006"/>
    </inertial>
  </link>
  <gazebo reference="gripper_finger1_finger_tip_link">
    <implicitSpringDamper>1</implicitSpringDamper>
    <mu1>100000</mu1>
    <mu2>100000</mu2>
    <kp>100000000.0</kp>
    <kd>1.0</kd>
  </gazebo>
  <link name="gripper_finger2_finger_tip_link">
    <visual>
      <geometry>
        <mesh filename="package://robotiq_85_description/meshes/visual/robotiq_85_finger_tip_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.02 0 0"/>
      <geometry>
      
        <box size="0.045 0.01 0.02"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.019555"/>
      <origin xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.000002" ixy="0.000000" ixz="0.000000" iyx="0.000000" iyy="0.000005" iyz="0.000000" izx="0.000000" izy="0.000000" izz="0.000006"/>
    </inertial>
  </link>
  <gazebo reference="gripper_finger2_finger_tip_link">
    <implicitSpringDamper>1</implicitSpringDamper>
    <mu1>100000</mu1>
    <mu2>100000</mu2>
    <kp>100000000.0</kp>
    <kd>1.0</kd>
  </gazebo>
  <gazebo>
    <plugin filename="libgazebo_grasp_fix.so" name="gazebo_grasp_fix">
      <arm>
        <arm_name>gripper_arm</arm_name>
        <palm_link>wrist_3_link</palm_link>
        <gripper_link>gripper_finger1_finger_tip_link</gripper_link>
        <gripper_link>gripper_finger2_finger_tip_link</gripper_link>
      </arm>
      <forces_angle_tolerance>100</forces_angle_tolerance>
      <update_rate>2</update_rate>
      <grip_count_threshold>1</grip_count_threshold>
      <max_grip_count>2</max_grip_count>
      <release_tolerance>0.005</release_tolerance>
      <disable_collisions_on_attach>true</disable_collisions_on_attach>
      <contact_topic>__default_topic__</contact_topic>
    </plugin>
  </gazebo>
  <transmission name="gripper_finger1_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="gripper_finger1_joint">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="gripper_finger1_motor">
      <mechanicalReduction>1</mechanicalReduction>
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </actuator>
  </transmission>
  <gazebo>

    <plugin filename="libroboticsgroup_gazebo_mimic_joint_plugin.so" name="mimic_robotiq_85_1">
      <joint>gripper_finger1_joint</joint>
      <mimicJoint>gripper_finger2_joint</mimicJoint>

    </plugin>
    <plugin filename="libroboticsgroup_gazebo_mimic_joint_plugin.so" name="mimic_robotiq_85_2">
      <joint>gripper_finger1_joint</joint>
      <mimicJoint>gripper_finger2_inner_knuckle_joint</mimicJoint>

    </plugin>
    <plugin filename="libroboticsgroup_gazebo_mimic_joint_plugin.so" name="mimic_robotiq_85_3">
      <joint>gripper_finger1_joint</joint>
      <mimicJoint>gripper_finger1_inner_knuckle_joint</mimicJoint>
  
    </plugin>
    <plugin filename="libroboticsgroup_gazebo_mimic_joint_plugin.so" name="mimic_robotiq_85_4">
      <joint>gripper_finger1_joint</joint>
      <mimicJoint>gripper_finger1_finger_tip_joint</mimicJoint>
      <multiplier>-1.0</multiplier>
      <offset>0.0</offset>
    </plugin>
    <plugin filename="libroboticsgroup_gazebo_mimic_joint_plugin.so" name="mimic_robotiq_85_5">
      <joint>gripper_finger1_joint</joint>
      <mimicJoint>gripper_finger2_finger_tip_joint</mimicJoint>
      <multiplier>-1.0</multiplier>
      <offset>0.0</offset>
    </plugin>
  </gazebo>

  <joint name="intelrealsense2" type="fixed">
    <axis xyz="0 0 0"/>
    <origin rpy="3.14 0 1.57" xyz="0 0.1 -0.08"/>
    <parent link="wrist_3_link"/>
    <child link="camera_link2"/>
  </joint>
  <link name="camera_link2">
    <collision>
      <origin rpy="0 0 0" xyz="0.02 0 0"/>
      <geometry>
        <box size="0.001 0.001 0.001"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="1.5707 0 1.5707" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://ebot/meshes/NAVRS.STL"/>
      </geometry>
    </visual>
    <inertial>
      <mass value="1e-5"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
  </link>
  <joint name="camera_optical_joint2" type="fixed">
    <origin rpy="-1.57079632679 0 -1.57079632679" xyz="0 0 0"/>
    <parent link="camera_link2"/>
    <child link="camera_rgb_frame2"/>
  </joint>
  <link name="camera_rgb_frame2">
  </link>
  <joint name="camera_depth_joint2" type="fixed">
    <origin rpy="-1.57079632679 0 -1.57079632679" xyz="0 0 0"/>
    <parent link="camera_link2"/>
    <child link="camera_depth_frame2"/>
  </joint>
  <link name="camera_depth_frame2">
  </link>
  <gazebo reference="camera_link2">
    <sensor name="intelrealsense2" type="depth">
      <always_on>1</always_on>
      <visualize>true</visualize>
      <camera>
        <horizontal_fov>1.047</horizontal_fov>
        <image>
          <width>640</width>
          <height>480</height>
          <format>R8G8B8</format>
        </image>
        <depth_camera>

        </depth_camera>
        <clip>
          <near>0.1</near>
          <far>100</far>
        </clip>
      </camera>
      <plugin filename="libgazebo_ros_openni_kinect.so" name="intelrealsense">
        <alwaysOn>true</alwaysOn>
        <updateRate>10.0</updateRate>
        <cameraName>camera2</cameraName>
        <frameName>camera_depth_frame2</frameName>
        <imageTopicName>/camera/color/image_raw2</imageTopicName>
        <depthImageTopicName>/camera/depth/image_raw2</depthImageTopicName>
        <pointCloudTopicName>depth/points2</pointCloudTopicName>
        <cameraInfoTopicName>/camera/color/camera_info2</cameraInfoTopicName>
        <depthImageCameraInfoTopicName>/camera/depth/camera_info2</depthImageCameraInfoTopicName>
        <pointCloudCutoff>0.2</pointCloudCutoff>
        <pointCloudCutoffMax>10.0</pointCloudCutoffMax>
        <hackBaseline>0.07</hackBaseline>
        <distortionK1>0.0</distortionK1>
        <distortionK2>0.0</distortionK2>
        <distortionK3>0.0</distortionK3>
        <distortionT1>0.0</distortionT1>
        <distortionT2>0.0</distortionT2>
        <CxPrime>0.0</CxPrime>
        <Cx>0.0</Cx>
        <Cy>0.0</Cy>
        <focalLength>0.0</focalLength>
      </plugin>
    </sensor>
  </gazebo>

</robot>

